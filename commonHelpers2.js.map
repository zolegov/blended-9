{"version":3,"file":"commonHelpers2.js","sources":["../src/js/data.js","../src/js/refs.js","../src/js/task1.js"],"sourcesContent":["export const USER_DATA = {\n  email: 'user@mail.com',\n  password: '123',\n};\n\nexport const STORAGE_KEY = 'login-form-data';\n","export const refs = {\n  loginForm: document.querySelector('#login-form'),\n};\n","// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми при сабмите\n\nimport { STORAGE_KEY, USER_DATA } from './data';\nimport { refs } from './refs';\n\n// у локальне сховище і змінюй кнопку login на logout і роби поля введення\n\n// Недоступними зміни.\n\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити logout-кнопку\n\n// та недоступні для зміни поля з даними користувача.\n\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n\n// З локального сховища.\n\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n\n// повідомляти про помилку.\n\nconst { email, password, button } = refs.loginForm.elements;\n\nrefs.loginForm.addEventListener('submit', onLoginFormSubmit);\nconsole.log('refs.loginForm: ', refs.loginForm);\n\nconst savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nif (savedData) {\n  email.value = savedData.email;\n  password.value = savedData.password;\n  button.textContent = 'logout';\n  email.disabled = true;\n  password.disabled = true;\n}\n\nfunction onLoginFormSubmit(event) {\n  event.preventDefault();\n  const isUserDataValid =\n    email.value.trim() !== USER_DATA.email ||\n    password.value.trim() !== USER_DATA.password;\n\n  if (isUserDataValid) {\n    alert('Невірно введені логін або пароль');\n    return;\n  }\n\n  if (button.textContent === 'logout') {\n    button.textContent = 'login';\n    email.disabled = false;\n    password.disabled = false;\n    event.target.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    return;\n  }\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(USER_DATA));\n\n  button.textContent = 'logout';\n  email.disabled = true;\n  password.disabled = true;\n}\n"],"names":["USER_DATA","STORAGE_KEY","refs","email","password","button","onLoginFormSubmit","savedData","event"],"mappings":"oDAAO,MAAMA,EAAY,CACvB,MAAO,gBACP,SAAU,KACZ,EAEaC,EAAc,kBCLdC,EAAO,CAClB,UAAW,SAAS,cAAc,aAAa,CACjD,ECmBM,CAAE,MAAAC,EAAO,SAAAC,EAAU,OAAAC,CAAQ,EAAGH,EAAK,UAAU,SAEnDA,EAAK,UAAU,iBAAiB,SAAUI,CAAiB,EAC3D,QAAQ,IAAI,mBAAoBJ,EAAK,SAAS,EAE9C,MAAMK,EAAY,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,EAE1DM,IACFJ,EAAM,MAAQI,EAAU,MACxBH,EAAS,MAAQG,EAAU,SAC3BF,EAAO,YAAc,SACrBF,EAAM,SAAW,GACjBC,EAAS,SAAW,IAGtB,SAASE,EAAkBE,EAAO,CAMhC,GALAA,EAAM,eAAc,EAElBL,EAAM,MAAM,KAAM,IAAKH,EAAU,OACjCI,EAAS,MAAM,SAAWJ,EAAU,SAEjB,CACnB,MAAM,kCAAkC,EACxC,MACD,CAED,GAAIK,EAAO,cAAgB,SAAU,CACnCA,EAAO,YAAc,QACrBF,EAAM,SAAW,GACjBC,EAAS,SAAW,GACpBI,EAAM,OAAO,QACb,aAAa,WAAWP,CAAW,EACnC,MACD,CAED,aAAa,QAAQA,EAAa,KAAK,UAAUD,CAAS,CAAC,EAE3DK,EAAO,YAAc,SACrBF,EAAM,SAAW,GACjBC,EAAS,SAAW,EACtB"}